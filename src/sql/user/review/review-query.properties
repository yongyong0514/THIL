reviewInfo = SELECT R.RNO , M.UNO , B.BNO , M.USER_NICK , B.BS_TITLE , C.CAT_NAME , R.REQ_ADD , P.PAY_PRICE FROM REQUEST R JOIN BUSINESS B ON (B.BNO = R.BNO) JOIN MEMBER M ON (M.UNO = R.UNO) JOIN CATEGORY C ON (R.CNO = C.CNO) JOIN PAY P ON (R.RNO = P.RNO) WHERE R.RNO = ?
insertReview = INSERT INTO REVIEW VALUES ('RE'||TRIM(TO_CHAR(REVNO.NEXTVAL,'0000000')),?,?,SYSDATE,?,'Y')
selectCurrval = SELECT 'RE'||TRIM(TO_CHAR(REVNO.CURRVAL,'0000000')) as CURRVAL FROM DUAL
insertFile = INSERT INTO FILES VALUES('F'||TRIM(TO_CHAR(FNO.NEXTVAL,'0000000')), ?, ?, ?, ?, SYSDATE, ?, 'Y')
reviewListCount = SELECT COUNT(*) FROM REVIEW RE JOIN REQUEST R ON (R.RNO = RE.RNO) JOIN MEMBER M ON (R.UNO = M.UNO) WHERE REV_STATUS = 'Y' AND M.UNO = ?
reviewListWithPaging = SELECT RNUM , RNO , REVNO , REV_DATE , REV_NOTE , CAT_NAME FROM (SELECT ROWNUM RNUM , RNO , REVNO , REV_DATE , REV_NOTE , CAT_NAME FROM (SELECT R.RNO , RE.REVNO , RE.REV_DATE , RE.REV_NOTE , C.CAT_NAME FROM REQUEST R JOIN REVIEW RE ON(RE.RNO = R.RNO) JOIN CATEGORY C ON (C.CNO = R.CNO) JOIN BUSINESS B ON(B.BNO = R.BNO) WHERE RE.REV_STATUS = 'Y' AND R.UNO = ? ORDER BY R.RNO DESC)) WHERE RNUM BETWEEN ? AND ?
selectReviewOne = SELECT M.UNO , M.USER_NICK , RE.REVNO , RE.RNO , RE.REV_NOTE , RE.REV_POINT , RE.REV_DATE , RE.REV_STATUS , C.CAT_NAME , B.BS_TITLE , P.PAY_PRICE , R.REQ_ADD , F.FNO , F.FILE_TYPE , F.FILE_ORIGINNAME , F.FILE_CHANGENAME , F.FILE_ROUTE , F.FILE_DATE , F.FILE_LEVEL , F.FILE_STATUS FROM REVIEW RE JOIN FILES F ON (RE.REVNO = F.FILE_TYPE) JOIN REQUEST R ON (R.RNO = RE.RNO) JOIN MEMBER M ON (R.UNO = M.UNO) JOIN BUSINESS B ON (B.BNO = R.BNO) JOIN CATEGORY C ON (R.CNO = C.CNO) JOIN PAY P ON (R.RNO = P.RNO) WHERE RE.REVNO = ? AND F.FILE_STATUS = 'Y'
mainReviewListcount = SELECT COUNT(*) FROM REVIEW RE JOIN FILES F ON (RE.REVNO = F.FILE_TYPE) WHERE RE.REV_STATUS = 'Y' AND F.FILE_LEVEL = '6'
mainReviewList = SELECT RNUM , RNO , REVNO , UNO , BS_TITLE , CAT_NAME , USER_NICK , PAY_PRICE , REQ_ADD , REV_NOTE , REV_DATE , REV_POINT , REV_STATUS , FNO , FILE_TYPE , FILE_ORIGINNAME , FILE_CHANGENAME , FILE_ROUTE , FILE_DATE , FILE_LEVEL FROM (SELECT ROWNUM RNUM , RNO , REVNO , UNO , BS_TITLE , CAT_NAME , USER_NICK , PAY_PRICE , REQ_ADD , REV_NOTE , REV_DATE , REV_POINT , REV_STATUS , FNO , FILE_TYPE , FILE_ORIGINNAME , FILE_CHANGENAME , FILE_ROUTE , FILE_DATE , FILE_LEVEL FROM (SELECT R.RNO , RE.REVNO , M.UNO , B.BS_TITLE , C.CAT_NAME , M.USER_NICK , P.PAY_PRICE , R.REQ_ADD , RE.REV_NOTE , RE.REV_DATE , RE.REV_POINT , RE.REV_STATUS , F.FNO , F.FILE_TYPE , F.FILE_ORIGINNAME , F.FILE_CHANGENAME , F.FILE_ROUTE , F.FILE_DATE , F.FILE_LEVEL FROM REVIEW RE JOIN FILES F ON (RE.REVNO = F.FILE_TYPE) JOIN REQUEST R ON (R.RNO = RE.RNO) JOIN MEMBER M ON (R.UNO = M.UNO) JOIN BUSINESS B ON (B.BNO = R.BNO) JOIN CATEGORY C ON (R.CNO = C.CNO) JOIN PAY P ON (R.RNO = P.RNO) WHERE RE.REV_STATUS = 'Y' AND F.FILE_LEVEL = '6' ORDER BY RE.REVNO DESC)) WHERE RNUM BETWEEN ? AND ?
bsReviewListCount = SELECT COUNT(*) FROM REVIEW RE JOIN REQUEST R ON (R.RNO = RE.RNO) JOIN BUSINESS B ON (B.BNO = R.BNO) JOIN MEMBER M ON (R.UNO = M.UNO) WHERE REV_STATUS = 'Y' AND B.BNO = ?
bsReviewListWithPaging = SELECT RNUM , RNO , REVNO , REV_DATE , REV_NOTE , CAT_NAME FROM (SELECT ROWNUM RNUM , RNO , REVNO , REV_DATE , REV_NOTE , CAT_NAME FROM (SELECT R.RNO , RE.REVNO , RE.REV_DATE , RE.REV_NOTE , C.CAT_NAME FROM REQUEST R JOIN REVIEW RE ON(RE.RNO = R.RNO) JOIN CATEGORY C ON (C.CNO = R.CNO) JOIN BUSINESS B ON(B.BNO = R.BNO) WHERE RE.REV_STATUS = 'Y' AND R.BNO = ? ORDER BY R.RNO DESC)) WHERE RNUM BETWEEN ? AND ?