reviewInfo = SELECT R.RNO , M.UNO , B.BNO , M.USER_NICK , B.BS_TITLE , C.CAT_NAME , R.REQ_ADD , P.PAY_PRICE FROM REQUEST R JOIN BUSINESS B ON (B.BNO = R.BNO) JOIN MEMBER M ON (M.UNO = R.UNO) JOIN CATEGORY C ON (R.CNO = C.CNO) JOIN PAY P ON (R.RNO = P.RNO) WHERE R.RNO = ?
insertReview = INSERT INTO REVIEW VALUES ('RE'||TRIM(TO_CHAR(REVNO.NEXTVAL,'0000000')),?,?,SYSDATE,?,'Y')
selectCurrval = SELECT 'RE'||TRIM(TO_CHAR(REVNO.CURRVAL,'0000000')) as CURRVAL FROM DUAL
insertFile = INSERT INTO FILES VALUES('F'||TRIM(TO_CHAR(FNO.NEXTVAL,'0000000')), ?, ?, ?, ?, SYSDATE, ?, 'Y')
reviewListCount = SELECT COUNT(*) FROM REVIEW RE JOIN REQUEST R ON (R.RNO = RE.RNO) JOIN MEMBER M ON (R.UNO = M.UNO) WHERE REV_STATUS = 'Y' AND M.UNO = ?
reviewListWithPaging = SELECT RNUM , RNO , REVNO , REV_DATE , REV_NOTE , CAT_NAME FROM (SELECT ROWNUM RNUM , RNO , REVNO , REV_DATE , REV_NOTE , CAT_NAME FROM (SELECT R.RNO , RE.REVNO , RE.REV_DATE , RE.REV_NOTE , C.CAT_NAME FROM REQUEST R JOIN REVIEW RE ON(RE.RNO = R.RNO) JOIN CATEGORY C ON (C.CNO = R.CNO) JOIN BUSINESS B ON(B.BNO = R.BNO) WHERE RE.REV_STATUS = 'Y' AND R.UNO = ? ORDER BY R.RNO DESC)) WHERE RNUM BETWEEN ? AND ?